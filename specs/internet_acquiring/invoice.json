{
  "openapi": "3.1.0",
  "info": {
    "version": "3",
    "title": "External API"
  },
  "servers": [
    {
      "url": "https://liqpay.ua"
    }
  ],
  "paths": {
    "/api/request?path=internet_acquiring%2Finvoice%2Funits": {
      "post": {
        "summary": "Internet acquiring. Invoice. ",
        "operationId": "internet_acquiring/invoice/units",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "integer",
                    "enum": [
                      3
                    ],
                    "default": 3,
                    "description": "Version API"
                  },
                  "action": {
                    "type": "string",
                    "description": "`invoice_units_get_list` if `language` is NOT specified, returns the list in the form - `id`, `full_name_en`, `short_name_en`, `full_name_uk`, `short_name_uk` if `language` is specified, returns only for the specified locale if `language` is specified and `hide_name_lang` = true, it returns in the form - `id`, `full_name`, `short_name`"
                  },
                  "action": {
                    "type": "string",
                    "description": "`invoice_units_get_list_by_lang` returns a list of units in the form (`id`, `full_name`, `short_name`)"
                  },
                  "hide_name_lang": {
                    "type": "boolean",
                    "description": "`true`, `false` - only as `language` is passed"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "uk",
                      "en"
                    ],
                    "default": "uk",
                    "description": "Customer's language"
                  }
                },
                "required": [
                  "version",
                  "action",
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "unique number"
                        },
                        "full_name_uk": {
                          "type": "string",
                          "description": "full name in Ukrainian"
                        },
                        "full_name_en": {
                          "type": "string",
                          "description": "full name in English"
                        },
                        "short_name_uk": {
                          "type": "string",
                          "description": "short name in Ukrainian"
                        },
                        "short_name_en": {
                          "type": "string",
                          "description": "short name in English"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "description": "unique number"
                        },
                        "full_name": {
                          "type": "string",
                          "description": "full name"
                        },
                        "short_name": {
                          "type": "string",
                          "description": "short name"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/request?path=internet_acquiring%2Finvoice%2Fissue": {
      "post": {
        "summary": "Internet acquiring. Invoice. Issuing the invoice",
        "operationId": "internet_acquiring/invoice/issue",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "integer",
                    "enum": [
                      3
                    ],
                    "default": 3,
                    "description": "Version API",
                    "example": 3,
                    "examples": [
                      3
                    ]
                  },
                  "public_key": {
                    "type": "string",
                    "description": "Public key - the store identifier. You can get the key in the [store settings](https://www.liqpay.ua/en/adminbusiness)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "invoice_send"
                    ],
                    "default": "invoice_send",
                    "example": "invoice_send",
                    "examples": [
                      "invoice_send"
                    ]
                  },
                  "amount": {
                    "type": "number",
                    "description": "Payment amount",
                    "example": 5.0,
                    "examples": [
                      5.0,
                      7.34,
                      1.0
                    ]
                  },
                  "currency": {
                    "type": "string",
                    "enum": [
                      "USD",
                      "EUR",
                      "UAH"
                    ],
                    "description": "Payment currency",
                    "example": "USD",
                    "examples": [
                      "USD"
                    ]
                  },
                  "description": {
                    "type": "string",
                    "description": "Payment description"
                  },
                  "email": {
                    "type": "string",
                    "description": "Customer's e-mail to send invoice (`phone` or `email` required parameters for transmission)",
                    "example": "client-email@gmail.com",
                    "examples": [
                      "client-email@gmail.com"
                    ]
                  },
                  "order_id": {
                    "type": "string",
                    "maxLength": 255,
                    "description": "Unique purchase ID in your shop",
                    "example": "order_id_1",
                    "examples": [
                      "order_id_1"
                    ]
                  },
                  "phone": {
                    "type": "string",
                    "description": "The phone number to which the invoice will be sent as a push notification to the Privat24 mobile application (`phone` or `email` required parameters for transmission)",
                    "example": "+380950000001",
                    "examples": [
                      "+380950000001",
                      "380950000001"
                    ]
                  },
                  "action_payment": {
                    "type": "string",
                    "enum": [
                      "pay",
                      "hold",
                      "subscribe",
                      "paydonate"
                    ],
                    "description": "Transaction type. Possible values:\n* `pay` - payment\n* `hold` - amount of hold on sender's account\n* `subscribe` - regular [payment](https://www.liqpay.ua/en/doc/api/internet_acquiring/subscription)\n* `paydonate` - donation"
                  },
                  "expired_date": {
                    "type": "string",
                    "format": "date-time-liqpay",
                    "description": "Date and time until which customer is able to pay invoice by `UTC`. Should be sent in the following format `2016-04-24 00:00:00`"
                  },
                  "goods": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "amount": {
                          "type": "number",
                          "description": "Quantity/volume",
                          "example": 1,
                          "examples": [
                            1,
                            10,
                            100
                          ]
                        },
                        "count": {
                          "type": "integer",
                          "description": "Count",
                          "example": 2,
                          "examples": [
                            2,
                            1
                          ]
                        },
                        "unit": {
                          "type": "string",
                          "description": "Unit",
                          "example": "pcs.",
                          "examples": [
                            "pcs.",
                            "шт."
                          ]
                        },
                        "name": {
                          "type": "string",
                          "description": "Name",
                          "example": "USB",
                          "examples": [
                            "USB",
                            "Phone",
                            "телефон"
                          ]
                        }
                      },
                      "required": [
                        "amount",
                        "count",
                        "unit",
                        "price"
                      ]
                    },
                    "description": "Units of measurement can be passed in two ways: independently through the `unit` parameter, or using the invoice_units API reference"
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "uk",
                      "en"
                    ],
                    "default": "uk",
                    "description": "Customer's language"
                  },
                  "result_url": {
                    "type": "string",
                    "format": "uri",
                    "maxLength": 510,
                    "description": "URL of your shop where the buyer would be redirected after completion of the purchase"
                  },
                  "server_url": {
                    "type": "string",
                    "format": "uri",
                    "maxLength": 510,
                    "description": "URL API in your store for notifications of payment status change (`server` -> `server`). [Learn more](https://www.liqpay.ua/en/doc/api/callback)"
                  }
                },
                "required": [
                  "version",
                  "public_key",
                  "action",
                  "amount",
                  "currency",
                  "description",
                  "email",
                  "order_id",
                  "phone"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "action": {
                      "type": "string",
                      "enum": [
                        "pay",
                        "hold",
                        "paysplit",
                        "subscribe",
                        "paydonate",
                        "auth",
                        "regular"
                      ],
                      "description": "Transaction type. Possible values:\n* `pay` - payment\n* `hold` - amount of hold on sender's account\n* `paysplit` - splitting payments\n* `subscribe` - creation of a regular payment\n* `paydonate` - donation\n* `auth` - card preauth\n* `regular` - regular payment",
                      "example": "pay",
                      "examples": [
                        "pay"
                      ]
                    },
                    "amount": {
                      "type": "number",
                      "description": "Payment amount",
                      "example": 0.03,
                      "examples": [
                        0.03
                      ]
                    },
                    "currency": {
                      "type": "string",
                      "description": "Payment currency",
                      "example": "UAH",
                      "examples": [
                        "UAH"
                      ]
                    },
                    "description": {
                      "type": "string",
                      "description": "Payment description",
                      "example": "Invoice",
                      "examples": [
                        "Invoice"
                      ]
                    },
                    "href": {
                      "type": "string",
                      "description": "Link to invoice",
                      "example": "https://liqpay.ua/apipay/invoice/150112455893001_6480_GBe3Mxwnq2O7G0MLX4gkQLtZf2",
                      "examples": [
                        "https://liqpay.ua/apipay/invoice/150112455893001_6480_GBe3Mxwnq2O7G0MLX4gkQLtZf2"
                      ]
                    },
                    "id": {
                      "type": "number",
                      "description": "Payment id in LiqPay system",
                      "example": 6173,
                      "examples": [
                        6173
                      ]
                    },
                    "order_id": {
                      "type": "string",
                      "description": "Order_id payment",
                      "example": "98R1U1OV1485849059893399",
                      "examples": [
                        "98R1U1OV1485849059893399"
                      ]
                    },
                    "receiver_type": {
                      "type": "string",
                      "description": "Receive channel type",
                      "example": "email",
                      "examples": [
                        "email"
                      ]
                    },
                    "receiver_value": {
                      "type": "string",
                      "description": "The value obtained in the parameter `receiver_type`",
                      "example": "test@gmail.com",
                      "examples": [
                        "test@gmail.com"
                      ]
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "error",
                        "failure",
                        "success",
                        "invoice_wait"
                      ],
                      "description": "Payment status.\nAvailable values:\nFinal payment statuses\n* `error` - Failed payment. Data is incorrect\n* `failure` - Failed payment\n* `success` - Successful payment\nOther payment statuses\n* `invoice_wait` - Invoice is created successfully, waiting for a payment",
                      "example": "invoice_wait",
                      "examples": [
                        "invoice_wait"
                      ]
                    },
                    "token": {
                      "type": "string",
                      "description": "Payment token",
                      "example": "150112455893001_6480_GBe3Mxwnq2O7G0MLX4gkQLtZf2",
                      "examples": [
                        "150112455893001_6480_GBe3Mxwnq2O7G0MLX4gkQLtZf2"
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/request?path=internet_acquiring%2Finvoice%2Fcancel": {
      "post": {
        "summary": "Internet acquiring. Invoice. Invoice cancelation",
        "operationId": "internet_acquiring/invoice/cancel",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "version": {
                    "type": "integer",
                    "enum": [
                      3
                    ],
                    "default": 3,
                    "description": "Version API",
                    "example": 3,
                    "examples": [
                      3
                    ]
                  },
                  "public_key": {
                    "type": "string",
                    "description": "Public key - the store identifier. You can get the key in the [store settings](https://www.liqpay.ua/en/adminbusiness)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "invoice_cancel"
                    ],
                    "default": "invoice_cancel",
                    "example": "invoice_cancel",
                    "examples": [
                      "invoice_cancel"
                    ]
                  },
                  "order_id": {
                    "type": "string",
                    "maxLength": 255,
                    "description": "Unique purchase ID in your shop",
                    "example": "order_id_1",
                    "examples": [
                      "order_id_1"
                    ]
                  }
                },
                "required": [
                  "version",
                  "public_key",
                  "action",
                  "order_id"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "invoice_id": {
                      "type": "number",
                      "description": "Unique identifier of the invoice",
                      "example": 6173,
                      "examples": [
                        6173
                      ]
                    },
                    "result": {
                      "type": "string",
                      "enum": [
                        "ok",
                        "error"
                      ],
                      "description": "The result of a request",
                      "example": "ok",
                      "examples": [
                        "ok"
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}